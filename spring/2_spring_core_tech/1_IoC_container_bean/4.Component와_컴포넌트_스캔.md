# 4. Component와 컴포넌트 스캔

@ComponentScan은 Spring 3.1부터 적용이 되었다.<br>

@ComponentScan은 `basePackages(String Type)` 패키지 이름으로 컴포넌트 스캔을 하는 데,<br>
String값으로 패키지 이름을 받는 것은 TypeSafe하지 않다. <br><br>
그래서 TypeSafe한 방법으로 `basePackageClasses` 라는 옵션을 사용한다.<br>
`basePackageClasses` 을 사용하면, 해당 옵션에 전달된 클래스가 있는 패키지를 기준으로 컴포넌트 스캔을 시작한다.

→ SpringBoot에서 @SpringBootApplication 애노테이션은 @ComponentScan을 포함하고 있다.<br>
따라서, @SpringBootApplication이 붙은 클래스의 Package와 다른 상속 Package에 있는 클래스들은 ComponetScan이 되지 않는다.
<br><br>

#### 컴포넌트 스캔 주요 기능
   - 스캔 위치를 설정한다.
   - filter : 어떤 애노테이션을 스캔할 지 or 스캔하지 않을 지
       - excludeFilters → TypeExcludeFilter.class, AutoConfigurationExcludeFilter.class
    <br><br>
    
#### ComponentScan의 대상
   - @Repository
   - @Service
   - @Controller
   - @Configuration
   <br><br> 
   
#### function을 이용한 Bean 등록
   - Bean 등록 시, ComponentScan 에 해당되지 않는 빈들을 등록할 수 있다.
   - 성능을 높일 수 있다. (하지만, 필요에 따라 사용해야 한다. 무조건 사용은 비추)

```java

// MyBean.class / ComPonentScan 외에 있는 bean을 function을 이용해서 등록이 가능하다. 
public static void main(String[] args) {
	new SpringApplicationBuilder()
			.sources(Demospring51Application.class)
			.initializers((ApplicationContextInitializer<GenericApplicationContext>)
		applicationContext -> {
			applicationContext.registerBean(MyBean.class);
	})
	.run(args);
}
```


